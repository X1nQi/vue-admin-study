---
title: HTTP协议应用
date: 2025-02-27T10:09:41Z
lastmod: 2025-06-08T16:13:31Z
---

# HTTP协议应用

首先抛开请求方法，所有协议的根本都是一大串字节，协议和编程语言没有区别，都需要解析器，这里所说的解析器并不是编程中的解析器，可以理解为翻译。

发送方发送固定格式的字节，接收方使用解析器来解析这些字节，分析出具体传达了什么信息。

所以对于HTTP协议，抛弃请求方法不谈，来分析一下HTTP在实际应用中，开发者需要明白的是什么。

对于HTTP协议来说，它工作中应用层，有两种请求报文

- 请求报文
- 响应报文

但是就把它当成一种看吧，格式都差不多

下面分别来看看HTTP协议的各个部分（以请求报文为例）

1. **请求行**

请求行会记录请求方法、请求的URL、使用的HTTP协议及版本

2. **请求头**

你可以简单的理解为请求就是个大大的对象，里面包含这若干个属性，服务端可以根据各个属性获取客户端的信息，这个也是可以由我们自定义的

3. **请求体**

你可以简单的理解为，这地方就是放客户端传送过来的数据的地方，也叫`payload`​（负载）

# 路径参数(Path Parameters)

假设我们请求的URL是：`http://www.example.com/user/1`​

这个<sup>​`1`​</sup>​就是路径参数，它经常用在动态请求路径上，表示某个网页的状态。

# 查询参数(Query Parameters)

查询参数，你可以看见的比较多的是：`params`​，这就是查询参数，常用于GET请求，在发起请求时传递查询参数，实际上，具体执行的行为全靠后端拿到之后会干什么。

查询参数会附加在URL的后面，以键值对的形式存在，多个参数之间用&符号连接。例如：

```txt
https://example.com/api/search?keyword=apple&category=fruit
```

对于后端来说，往往都会有一个`res.params`​用来获取这个键值对

# 请求体到底传什么类型？

传的最多的就是json类型的数据了

一般有这几种常用的类型

- json：严格JSON模式，传的数据必须符合JSON规范，自动序列化
- raw：发送任意格式的数据
- form-data：表单数据，可以用来传文件
- x-www-form-urlencoded：表单数据，以键值对形式存在，适合简单的文本数据传输。

你发送不同的数据，在请求头中的`content-type`​都会被设置为不同的类型，好在现在的第三方库都会自动识别并设置，你大概率是不需要手动设置的。

# FormData

表单数据是一类比较特殊的数据

前端在发起请求时，需要构建一个FormDate对象，然后传递这个FormDate对象。

对于普通的键值对数据，后端可以直接从请求体中获取。一般会使用`req.body`​访问或者`req.form`​访问。

需要注意的是，如果你传的数据是文件。`content-type`​必须设置为`multipart/form-data`​ 

对于文件数据， 后端一般有FILES关键字，用来获取文件对象，FILES是一个数组。其实前端在构建FormData时，获取的文件也是个数组。

‍
